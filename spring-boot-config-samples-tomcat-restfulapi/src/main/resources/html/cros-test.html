<!--
  ~ Copyright 2018 tomoncle
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>跨域测试</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
    </script>
    <script>

        function corsRequest() {
            var obj = {
                "name": "tomoncle",
                "value": "测试跨域"
            };
            $.ajax({
                url: "http://localhost:8910/cors/api/body-json",
                data: JSON.stringify(obj),
                method: "post",
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    console.log(data);
                    alert(JSON.stringify(data));
                }
            });
        }

        function corsBadRequest() {
            var obj = {
                "name": "tomoncle",
                "value": "测试跨域-nginx"
            };
            $.ajax({
                url: "http://localhost:8200/cors/api/body-json-by-ngx",
                data: JSON.stringify(obj),
                method: "post",
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    console.log(data);
                    alert(JSON.stringify(data));
                }
            });
        }

        $(document).ready(function () {
            console.log("*************")
        });
    </script>
</head>
<body>
<p onclick="corsRequest()"><input type="button" value="测试跨域"></p>
<p onclick="corsBadRequest()"><input type="button" value="测试跨域-Nginx"></p>
</body>
</html>